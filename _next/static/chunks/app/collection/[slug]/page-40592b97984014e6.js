(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{5595:function(e,r,a){Promise.resolve().then(a.bind(a,5128))},5128:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return CollectionContent}});var l=a(7437),s=a(2265),t=a(6691),i=a.n(t),c=a(1396),n=a.n(c),components_ProductCard=e=>{let{name:r,slug:a,image:s,regularPrice:t,salePrice:c,isOnSale:o=!1}=e;return(0,l.jsx)(n(),{href:"/product/".concat(a),className:"group",children:(0,l.jsxs)("div",{className:"relative",children:[o&&(0,l.jsx)("div",{className:"absolute top-4 left-4 z-10 bg-[#4B84E5] text-white px-3 py-1 text-sm",children:"Sale"}),(0,l.jsx)("div",{className:"relative aspect-square mb-4 bg-gray-100 rounded-lg overflow-hidden",children:(0,l.jsx)(i(),{src:s,alt:r,fill:!0,className:"object-contain p-4 group-hover:scale-105 transition-transform duration-300"})}),(0,l.jsx)("h3",{className:"text-lg font-medium mb-2",children:r}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:o&&c?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"text-gray-500 line-through",children:["Rs. ",t.toLocaleString()]}),(0,l.jsxs)("span",{className:"font-medium",children:["Rs. ",c.toLocaleString()]})]}):(0,l.jsxs)("span",{className:"font-medium",children:["Rs. ",t.toLocaleString()]})})]})})};function CollectionFilter(e){let{collection:r,defaultProducts:a,totalProducts:t,onFilterChange:i,onSortChange:c}=e,[n,o]=(0,s.useState)(a),[d,h]=(0,s.useState)({availability:"",price:"",type:""}),handleFilterChange=(e,a)=>{let l={...d,[e]:a};h(l);let s=[...r.products];l.type&&(s=s.filter(e=>e.type===l.type)),l.price&&s.sort((e,r)=>{let a=e.salePrice||e.regularPrice,s=r.salePrice||r.regularPrice;return"low-to-high"===l.price?a-s:s-a}),l.availability,o(s)},handleSortChange=e=>{let r=[...n];switch(e){case"featured":o(a);break;case"price-low":r.sort((e,r)=>(e.salePrice||e.regularPrice)-(r.salePrice||r.regularPrice)),o(r);break;case"price-high":r.sort((e,r)=>(r.salePrice||r.regularPrice)-(e.salePrice||e.regularPrice)),o(r)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Filter:"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{value:d.availability,onChange:e=>handleFilterChange("availability",e.target.value),className:"appearance-none bg-white border border-gray-300 rounded-md py-2 pl-4 pr-8 cursor-pointer hover:border-gray-400",children:[(0,l.jsx)("option",{value:"",children:"Availability"}),(0,l.jsx)("option",{value:"in-stock",children:"In Stock"}),(0,l.jsx)("option",{value:"out-of-stock",children:"Out of Stock"})]}),(0,l.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:"▼"})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{value:d.price,onChange:e=>handleFilterChange("price",e.target.value),className:"appearance-none bg-white border border-gray-300 rounded-md py-2 pl-4 pr-8 cursor-pointer hover:border-gray-400",children:[(0,l.jsx)("option",{value:"",children:"Price"}),(0,l.jsx)("option",{value:"low-to-high",children:"Low to High"}),(0,l.jsx)("option",{value:"high-to-low",children:"High to Low"})]}),(0,l.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:"▼"})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{value:d.type,onChange:e=>handleFilterChange("type",e.target.value),className:"appearance-none bg-white border border-gray-300 rounded-md py-2 pl-4 pr-8 cursor-pointer hover:border-gray-400",children:[(0,l.jsx)("option",{value:"",children:"Product type"}),(0,l.jsx)("option",{value:"cloud",children:"Cloud Connected"}),(0,l.jsx)("option",{value:"standard",children:"Standard"})]}),(0,l.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:"▼"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Sort by:"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{onChange:e=>handleSortChange(e.target.value),className:"appearance-none bg-white border border-gray-300 rounded-md py-2 pl-4 pr-8 cursor-pointer hover:border-gray-400",children:[(0,l.jsx)("option",{value:"featured",children:"Featured"}),(0,l.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,l.jsx)("option",{value:"price-high",children:"Price: High to Low"})]}),(0,l.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:"▼"})]}),(0,l.jsxs)("span",{className:"text-gray-600",children:[n.length," products"]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(e=>(0,l.jsx)(components_ProductCard,{name:e.name,slug:e.slug,image:e.image,regularPrice:e.regularPrice,salePrice:e.salePrice,isOnSale:e.isOnSale},e.slug))})]})}function CollectionContent(e){let{collection:r}=e,[a,t]=(0,s.useState)(r.products);return(0,l.jsx)("div",{children:(0,l.jsx)(CollectionFilter,{collection:r,defaultProducts:r.products,totalProducts:a.length,onFilterChange:(e,a)=>{let l=[...r.products];if(a)switch(e){case"type":l=l.filter(e=>e.type===a);break;case"price":l.sort((e,r)=>{let l=e.salePrice||e.regularPrice,s=r.salePrice||r.regularPrice;return"low-to-high"===a?l-s:s-l})}else l=r.products;t(l)},onSortChange:e=>{let l=[...a];switch(e){case"featured":t(r.products);break;case"price-low":l.sort((e,r)=>(e.salePrice||e.regularPrice)-(r.salePrice||r.regularPrice)),t(l);break;case"price-high":l.sort((e,r)=>(r.salePrice||r.regularPrice)-(e.salePrice||e.regularPrice)),t(l)}}})})}}},function(e){e.O(0,[413,20,971,472,744],function(){return e(e.s=5595)}),_N_E=e.O()}]);